/* Copyright (C) 2012 Sylvain Hamel
Project: https://github.com/redhotsly/safarimobile-multiline-select
MIT Licence: https://raw.github.com/redhotsly/safarimobile-multiline-select/master/licence-mit.txt */
!function(){"use strict";function a(a){var b=this,c='<style type="text/css">    /* styles for the safarimobile-multiline-select plug-in */ \r\n    .multilineselect {border: 1px solid silver; display:inline-block; margin:0px; padding:2px; height: 100px; overflow:auto; width:300px; vertical-align: text-bottom;} \r\n    .multilineselect li {list-style-type: none; list-style-position:inside; margin:0px; padding:0px; cursor:default;}  \r\n    .multilineselect li.selected {color: white; background-color: darkgrey;}  \r\n</style>';b.isSafariMobile=function(){return navigator.userAgent.match(/(iPod|iPhone|iPad)/)&&navigator.userAgent.match(/AppleWebKit/)||a},b.selectIsMultiline=function(a){var b=a.attr("size");return!(void 0===b||"1"===b)},b.selectValue=function(a,b){a.children("li").removeClass("selected");var c=a.find('li[data-value="'+b+'"]');c.addClass("selected")},b.createListFromSelectElement=function(a){var c=$('<ul class="multilineselect">'),d=a.attr("id");void 0!==d&&c.attr("id",d+"_safarimobile");var e=function(){a.children("option").each(function(){var b=$(this),d=$("<li>");d.attr("data-value",b.val()),d.html(b.html()),d.click(function(){var b=$(this).attr("data-value");a.val(b),a.change()}),c.append(d)})};return e(),a.change(function(){var a=$(this).children("option:selected");b.selectValue(c,a.val())}),$(a).on("item-added",function(){c.empty(),e();var a=$(this).children("option:selected");b.selectValue(c,a.val())}),c},b.fixForSafariMobile=function(a){b.isSafariMobile()&&($("head").prepend(c),a.each(function(){var a=$(this);if(b.selectIsMultiline(a)){a.hide();var c=b.createListFromSelectElement(a);a.after(c)}}))}}window.SelectConverter=a,$.fn.fixForSafariMobile=function(b){var c=new a(b);return c.fixForSafariMobile(this),this}}();